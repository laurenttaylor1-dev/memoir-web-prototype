<body>
  <main class="wrap">
    <!-- Full-viewport hero with the logo centered -->
    <section class="hero">
      <img src="/Logo.jpg" alt="Memoir logo" class="logo" />
      <h1 class="title">Memoir</h1>

      <p class="lead">
        Weâ€™re putting the final touches on Memoir. Leave your email and weâ€™ll invite you as soon as itâ€™s ready.
      </p>

      <div class="cta">
        <form class="signup" id="waitlist-form">
          <label for="email" class="sr-only">Email</label>
          <input id="email" name="email" type="email" placeholder="you@email.com" required />
          <button type="submit" class="btn primary">Notify me</button>
        </form>
        <button class="btn ghost" aria-disabled="true">Coming Soon</button>
      </div>

      <div id="form-status" aria-live="polite" class="status"></div>
    </section>

    <footer class="meta">
      <small>Â© <span id="y"></span> Memoir â€” Testing phase</small>
      <nav class="links">
        <a href="mailto:memoirapp@outlook.com">Contact</a>
        <a href="/privacy.html" aria-disabled="true" onclick="alert('Privacy Policy will be available at launch.'); return false;">Privacy</a>
        <a href="/terms.html" aria-disabled="true" onclick="alert('Terms will be available at launch.'); return false;">Terms</a>
      </nav>
    </footer>
  </main>

  <!-- Supabase (optional waitlist storage) -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script>
    const SUPABASE_URL = "https://YOUR-PROJECT-REF.supabase.co"; // replace
    const SUPABASE_ANON_KEY = "YOUR-ANON-KEY";                   // replace
    const sb = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

    const form = document.getElementById('waitlist-form');
    const statusEl = document.getElementById('form-status');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      statusEl.textContent = 'Savingâ€¦';
      const email = document.getElementById('email').value.trim();
      try {
        const { error } = await sb.from('waitlist').insert({ email });
        if (error) throw error;
        form.reset();
        statusEl.innerHTML = "ðŸŽ‰ Thank you! You're on the list. We'll email <strong>memoirapp@outlook.com</strong> with new sign-ups.";
      } catch (err) {
        statusEl.innerHTML = 'Hmm, something went wrong. You can also email us at <a href="mailto:memoirapp@outlook.com">memoirapp@outlook.com</a>.';
      }
    });

    document.getElementById('y').textContent = new Date().getFullYear();
  </script>
</body>
